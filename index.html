<!DOCTYPE html>
<html>
<head>
    <style>
        body {
            font-size: 16px;
            padding: 0;
            margin: 0;
        }
        h1 {
            font-size: 36px;
            padding: 0;
        }
        a {
            color: white;
            text-decoration: none;;
        }
        .main {
            position: fixed;
            width:100%;
            height:100%;
            top:0px;
            left:0px;
        }
        .background {
            background-image: linear-gradient(
                rgba(0, 0, 0, 0.7),
                rgba(0, 0, 0, 0.7)
                ),
                url("https://www.publicdomainpictures.net/pictures/40000/velka/golden-retriever-dog-1364426710r9x.jpg");
            background-size: 25% 20%; 
            background-repeat: repeat;
            width: 100%;
            height: 100%;
        }
        .content {
            text-shadow: white 0px 0px 4px;

            color: white;
            padding: 1rem;

        }
    </style>
    <title>Linneas bloggflöde</title>
    <script type="text/javascript">

        async function post() {
            const blogs = await fetch("http://localhost:3000/blogs", {
                headers: {
                "Access-Control-Allow-Origin": "*",
                "Access-Control-Allow-Headers": "Origin, X-Requested-With, Content-Type, Accept",
                "Access-Control-Allow-Methods": "GET, POST, PUT, DELETE",
                },
                method: "POST",
                mode: "cors", // no-cors, *cors, same-origin
                cache: "no-cache", // *default, no-cache, reload, force-cache, only-if-cached
                credentials: "same-origin", // include, *same-origin, omit
                redirect: "follow", // manual, *follow, error
                referrerPolicy: "no-referrer",
            });
            return blogs.json();
        }
        
        post().then((res) => {
            res.forEach(blog => {
                const header = document.createElement("h2");
                header.textContent = blog.name;
                const link = document.createElement("a");
                link.href = blog.url;
                const blogList = document.createElement("ul");
                const listItem = document.createElement("li");
                link.textContent = `${new Date(blog.lastUpdateDate).toLocaleDateString("sv-SE")}: ${blog.title}`;
                listItem.appendChild(link);
                blogList.appendChild(listItem);
                document.body.getElementsByClassName("content")[0].appendChild(header);
                document.body.getElementsByClassName("content")[0].appendChild(blogList);
            });
        }
        );
    </script>
</head>
<body>
    <div class="main">
        <div class="background">
            <div class="content">
                <h1>Linneas bloggflöde</h1>
            </div>
        </div>
    </div>
</body>
</html>
